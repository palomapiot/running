<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Edit Profile</title>
<link rel="shortcut icon" th:href="@{/resources/images/favicon.ico}"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="../../../resources/css/bootstrap.min.css" rel="stylesheet"
	media="screen" th:href="@{/resources/css/bootstrap.min.css}" />
<link href="../../../resources/css/core.css" rel="stylesheet"
	media="screen" th:href="@{/resources/css/core.css}" />
<link href="../../../resources/css/utils.css" rel="stylesheet"
	media="screen" th:href="@{/resources/css/utils.css}" />
<script src="../../../resources/js/jquery.min.js"
	th:src="@{/resources/js/jquery.min.js}"></script>
<script src="../../../resources/js/bootstrap.min.js"
	th:src="@{/resources/js/bootstrap.min.js}"></script>
<!-- Datepicker -->
<script
	src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script>
<link href="../../../resources/css/utils.css" rel="stylesheet"
	media="screen" th:href="@{/resources/css/utils.css}" />
	<!-- Include Bootstrap Datepicker -->
<link rel="stylesheet"
	href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.min.css" />
<link rel="stylesheet"
	href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.min.css" />
</head>
<body>
	<div th:replace="fragments/layout :: header"></div>
	<div class="col-xs-12">
		<button type="button"
			class="btn btn-default glyphicon glyphicon-arrow-left"
			onclick="goBack()"></button>
	</div>
	<h2 class="text-center white">Edit Profile</h2>
	<!-- Formulario de ediciÃ³n de datos de usuario -->
	<div class="form-80wide">
	<div class="container mt-30">
		<form class="form-horizontal" method="post"
			th:action="@{/editProfileForm}" th:object="${editProfileForm}">
			<div class="form-group">
				<label for="password" class="col-xs-3 control-label">Password *</label>
				<div class="col-xs-9">
					<input type="password" class="form-control" id="password"
						placeholder="Password" th:field="*{password}" /> <span
						class="help-block" th:if="${#fields.hasErrors('password')}"
						th:errors="*{password}"
						>Incorrect password</span>
				</div>
			</div>
			<div class="form-group">
				<label for="name" class="col-xs-3 control-label">Name *</label>
				<div class="col-xs-9">
					<input type="text" class="form-control" id="name"
						placeholder="Name" th:field="*{name}"
						required/>
				</div>
			</div>
			<div class="form-group">
				<label for="surname" class="col-xs-3 control-label">Surname *</label>
				<div class="col-xs-9">
					<input type="text" class="form-control" id="surname"
						placeholder="Surname" th:field="*{surname}"  required/>
				</div>
			</div>
				<div class="form-group">
					<label for="inputBirthday" class="col-xs-3 control-label">Birthday *</label>
					<div class="col-xs-9">
						<div class="input-group input-append date pull-right" id="inputBirthday">
							<input type="text" class="form-control" id="inputBirthday"
								placeholder="mm/dd/yyyy" name="Birthday" 
								th:field="*{birthday}" 
								required/>
							<span class="input-group-addon add-on">
								<span class="glyphicon glyphicon-calendar"></span>
							</span>
						</div>
						<span id="errorDate" class="red pull-right" hidden="true">Date must be before today</span>
					</div>
					
							
				</div>
			<div class="form-group">
				<label for="city" class="col-xs-3 control-label">City</label>
				<div class="col-xs-9">
					<input type="text" class="form-control" id="city"
						placeholder="City" th:field="*{city}"/>
				</div>
			</div>
			<div class="form-group">
				<label for="country" class="col-xs-3 control-label">Country</label>
				<div class="col-xs-9">
					<input type="text" class="form-control" id="country"
						placeholder="Country" th:field="*{country}"/>
				</div>
			</div>
			
			<div class="form-group">
				<button id="signupbutton" type="submit" class="btn btn-success mt-20 pull-right">Save changes</button>
			</div>
		</form>
	</div>
	</div>	
<script>
$('#inputBirthday')
.datepicker({
    format: 'mm-dd-yyyy'
})
$('#inputBirthday').change(function() {
	if ($("#inputBirthday").datepicker("getDate") > Date.now()) {
		$("#signupbutton").attr("disabled", true);
		$("#errorDate").show();
	} else {
		$("#signupbutton").attr("disabled", false);
		$("#errorDate").hide();
	}
})

	function goBack() {
	    window.history.back()
	}    
</script>
	<div th:replace="fragments/layout :: footer"></div>
</body>